<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.57">

  <meta name="author" content="Matt Bhagat-Conway">
  <title>Analyzing Large Datasets with the Julia Language</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Analyzing Large Datasets with the Julia Language</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Matt Bhagat-Conway 
</div>
        <p class="quarto-title-affiliation">
            Odum Institute<br>University of North Carolina at Chapel Hill
          </p>
    </div>
</div>

</section>
<section id="about-me" class="slide level2">
<h2>About me</h2>
<ul>
<li>Assistant professor in City and Regional Planning and Odum Institute</li>
<li>PhD and MA in Geography from Arizona State, BA from UC Santa Barbara</li>
<li>Three years as professional software developer before graduate school</li>
</ul>
</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<ul>
<li>Intro and conceptual discussion</li>
<li>Hands on demos of
<ul>
<li>Reading and manipulating tabular data</li>
<li>Plotting</li>
<li>Performance improvements</li>
<li>Statistical analysis</li>
<li>Modules</li>
</ul></li>
<li>Brief discussion of more advanced topics</li>
</ul>
</section>
<section id="getting-ready" class="slide level2">
<h2>Getting ready</h2>
<ul>
<li>Download the code we’ll be using <a href="https://github.com/mattwigway/odum-julia">from Github</a>
<ul>
<li>click Code &gt; Download ZIP and extract it</li>
<li>or, clone with <code>git</code></li>
</ul></li>
</ul>
</section>
<section id="julia-setup" class="slide level2">
<h2>Julia setup</h2>
<ul>
<li>Julia ships with an excellent package manager which we’ll discuss in a moment</li>
<li>Package manager supports “environments” - collections of packages and versions that can be shared</li>
<li>Before we run through our demo, we each need to “instantiate” the environment used for the demo</li>
<li>In VSCode, open the folder you just downloaded</li>
<li>Type Ctrl/Cmd-shift-P and find and select Julia: Start REPL</li>
<li>In the Julia prompt that appears, type <code>]</code> to enter the package manager, and then <code>resolve</code></li>
</ul>
</section>
<section id="what-is-julia" class="slide level2">
<h2>What is Julia?</h2>
<ul>
<li>Relatively young programming language (just turned 10)</li>
<li>Designed for speed and ease of use</li>
<li>Geared for science and math</li>
<li>Large community writing packages and providing support</li>
</ul>
</section>
<section id="solving-the-two-language-problem" class="slide level2">
<h2>Solving the two-language problem</h2>
<ul>
<li>Scientists working with data have long needed two types of language</li>
<li>Easy to use, simple, high-level languages
<ul>
<li>Prototyping and development very efficient</li>
<li>Poor performance at scale</li>
<li>e.g.&nbsp;Python, R</li>
</ul></li>
<li>More difficult, low-level languages
<ul>
<li>Can be very fast</li>
<li>Much higher learning curve</li>
<li>e.g.&nbsp;C, C++, Fortran, Java</li>
</ul></li>
</ul>
</section>
<section id="download-the-data" class="slide level2">
<h2>Download the data</h2>
<ul>
<li>Open <code>1 Reading Data into Julia.qmd</code></li>
<li>Run the first two cells, by clicking the run buttons or putting your cursor in them and pressign Ctrl/Cmd-enter</li>
</ul>
</section>
<section id="what-makes-julia-fast" class="slide level2">
<h2>What makes Julia fast?</h2>
<ul>
<li>Just in time compilation</li>
<li>Code optimization</li>
</ul>
</section>
<section id="concepts-compile-time-and-run-time" class="slide level2">
<h2>Concepts: compile time and run time</h2>
<ul>
<li>Compile time: when the Julia compiler examines your code and generated optimized low-level code for your processor to run</li>
<li>Run time: when your code is actually executed by the computer</li>
<li>Compile time happens once, run time as many times as you do something</li>
<li>Most high-level languages do a lot at run time, Julia is fast because it moves more things to compile time</li>
</ul>
</section>
<section id="what-makes-julia-fast-1" class="slide level2">
<h2>What makes Julia fast?</h2>
<ul>
<li>The <em>type system</em>
<ul>
<li>Julia can usually <em>infer</em> the types of values used in Julia programs (e.g.&nbsp;integer, real, string, etc.)</li>
<li>When types can be inferred, specialized algorithms can be used for those types</li>
<li>Julia relies heavily on <em>multiple dispatch</em>, where different versions of a function can be selected based on the types of its arguments</li>
<li>Numeric types are fixed-width (same number of bits), so can be <em>stack-allocated</em></li>
</ul></li>
</ul>
<!-- _class: blank dark -->
</section>
<section id="using-julia-for-social-science" class="slide level2">
<h2>Using Julia for social science</h2>
<ul>
<li>Julia is a general-purpose language</li>
<li>Data analysis functionality is provided by packages
<ul>
<li>DataFrames.jl for tabular data manipulation</li>
<li>CSV.jl to read CSV files</li>
<li>StatsBase.jl for descriptive stats</li>
<li>Plots.jl, Gadfly.jl, Makie.jl for plotting</li>
<li>GLM.jl for regression</li>
<li>MLJ.jl for machine learning</li>
<li>Graphs.jl for network analysis</li>
<li>etc…</li>
</ul></li>
</ul>
</section>
<section id="using-julia-for-social-science-1" class="slide level2">
<h2>Using Julia for social science</h2>
<ul>
<li>Julia packages are usually written in Julia, so you can make your own or contribute to existing ones</li>
</ul>
</section>
<section id="reasons-not-to-use-julia" class="slide level2">
<h2>Reasons not to use Julia</h2>
<ul>
<li>Package ecosystem for social sciece is much more developed in R, Python, Stata, etc.</li>
<li>More educational and troubleshooting resources available for other tools
<ul>
<li>But, the Julia community is very responsive (discourse.julialang.org and Julia Slack)</li>
</ul></li>
<li>More likely that collaborators are familiar with other tools</li>
</ul>
</section>
<section id="reasons-to-use-julia" class="slide level2">
<h2>Reasons to use Julia</h2>
<ul>
<li>For large datasets
<ul>
<li>Start considering at around 500mb</li>
</ul></li>
<li>For computationally intensive algorithms that aren’t available in packages</li>
<li>For distributed computing</li>
</ul>
</section>
<section id="the-julia-community" class="slide level2">
<h2>The Julia community</h2>
<ul>
<li>The Julia community is very friendly to newcomers</li>
<li>discourse.julialang.org has many questions already answered, and community members are quite responsive if you post a new question</li>
<li>Most Julia core developers are in the Julia Slack or Zulip channels, and will respond to questions there as well</li>
<li>Julia and package documentation tends to be extensive as well</li>
</ul>
</section>
<section id="recap-loading-and-cleaning-data" class="slide level2">
<h2>Recap: loading and cleaning data</h2>
<ul>
<li>Julia’s DataFrames package has tools to work with tabular data</li>
<li>You need a separate library to read data (CSV, most often)</li>
<li>Any Julia function can be applied to a vector by adding a <code>.</code></li>
<li>Missing data is common and represented by a special value <code>missing</code></li>
<li><code>ismissing</code> will identify missing data, <code>skipmissing</code> skips them for a particular operation, and <code>coalesce</code> will return first non-missing argument</li>
</ul>
</section>
<section id="recap-plotting" class="slide level2">
<h2>Recap: plotting</h2>
<ul>
<li>Plots.jl is a mature and high-performance plotting library</li>
<li>The basic format of a plot is <code>plot(x, y)</code> or <code>scatter(x, y)</code></li>
<li>Appending <code>!</code> will add to existing plot</li>
<li><code>xlabel!</code> and <code>ylabel!</code> label axes</li>
<li><code>fmt=:png</code> speeds up very large plots</li>
<li><code>histogram(data)</code> will make a histogram</li>
</ul>
</section>
<section id="julia-performance" class="slide level2">
<h2>Julia performance</h2>
<ul>
<li>It is easy to write high-performance code in Julia</li>
<li>But it is <em>also</em> easy to write slow code in Julia</li>
<li>Differences between fast and slow code can be very subtle</li>
</ul>
</section>
<section id="julia-performance-1" class="slide level2">
<h2>Julia performance</h2>
<ul>
<li>The usual culprit in performance problems is <em>type instability</em>
<ul>
<li>…when Julia can’t figure out the type of a variable at compile-time, or the type of the variable changes</li>
</ul></li>
</ul>
</section>
<section id="julia-performance-the-time-to-first-plot-problem-ttfp" class="slide level2">
<h2>Julia performance: the time-to-first-plot problem (TTFP)</h2>
<ul>
<li>Unlike other compiled languages, Julia doesn’t have a separate compilation phase</li>
<li>The first time you use a function with particular types, it is compiled</li>
<li>This can be quite slow, especially when compiling large libraries (e.g.&nbsp;Plots)</li>
<li>When benchmarking, always look at the performance of the <em>second</em> function call</li>
</ul>
</section>
<section id="julia-performance-tools" class="slide level2">
<h2>Julia performance tools</h2>
<ul>
<li>Fortunately, Julia has a lot of tools to help with finding/fixing performance problems</li>
<li>We’ll cover a few</li>
<li><code>@time</code> will time a function call and report heap memory allocations</li>
<li><code>@code_warntype</code> will highlight areas where Julia couldn’t figure out the type of variables</li>
</ul>
</section>
<section id="using-functions-for-performance" class="slide level2">
<h2>Using functions for performance</h2>
<ul>
<li>Performance-critical code should always be inside a function</li>
<li>Functions get compiled for every combination of argument types (this is known as <em>multiple dispatch</em>)</li>
<li>Don’t refer to (non-constant) global variables in functions; pass variables as arguments</li>
<li>This is important because then Julia knows the size of all the variables in the function, and can allocate them on the <em>stack</em> instead of the <em>heap</em></li>
<li>This improves <em>memory locality</em> which is important for performance</li>
<li>Heap memory must be garbage-collected, adding overhead, and is not in the same part of memory as other stack-allocated functions</li>
</ul>
</section>
<section id="advanced-topics-multithreading-and-multiprocessing" class="slide level2">
<h2>Advanced topics: multithreading and multiprocessing</h2>
<p>Premature optimization is the root of all evil<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;—Sir Tony Hoare/Donald Knuth</p>
<p>Danger, Will Robinson!<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;—Robot</p>
<p>Abandon all hope, ye who enter here<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;—Dante</p>
<!-- _class: dark blank -->
</section>
<section id="advanced-topics-multithreading-vs-multiprocessing" class="slide level2">
<h2>Advanced topics: multithreading vs multiprocessing</h2>
<ul>
<li>Multithreading uses multiple <em>threads</em> within a single <em>process</em> on a single computer
<ul>
<li>Threads share memory/variables</li>
<li>Saves memory, but prone to <em>race conditions</em></li>
<li>Low overhead</li>
</ul></li>
</ul>
</section>
<section id="advanced-topics-multithreading-vs-multiprocessing-1" class="slide level2">
<h2>Advanced topics: multithreading vs multiprocessing</h2>
<ul>
<li>Multiprocessing uses multiple processes on one or more computers
<ul>
<li>Process don’t share memory but communicate by passing information between them</li>
<li>Uses more memory, but allows dividing of processing across machines</li>
<li>High overhead</li>
</ul></li>
</ul>
</section>
<section id="advanced-topics-multithreading" class="slide level2">
<h2>Advanced topics: multithreading</h2>
<ul>
<li>Julia has built-in support for multithreading</li>
<li>Start Julia with additional threads with <code>-t &lt;num_threads&gt;</code></li>
<li>Make for loops parallel with <code>Threads.@threads for</code></li>
<li>Avoid data races!</li>
<li>Ensure packages are threadsafe</li>
</ul>
</section>
<section id="advanced-topics-multiprocessing" class="slide level2">
<h2>Advanced topics: multiprocessing</h2>
<ul>
<li>Julia provides <code>Distributed</code> module to support multiprocessing</li>
<li>One main process sends commands and data to be executed to other processes</li>
<li>You can start Julia with multiple processes on one machine using <code>-p &lt;num_processes&gt;</code></li>
<li>If you want to use a cluster, you will need a <em>cluster manager</em>, of which there are many
<ul>
<li>UNC Dogwood cluster uses Slurm, which you can use from Julia with <code>SlurmClusterManager</code></li>
</ul></li>
</ul>
</section>
<section id="package-management-in-julia" class="slide level2">
<h2>Package management in Julia</h2>
<ul>
<li>Research projects in Julia often rely on dozens or hundreds of packages, directly or indirectly</li>
<li>By default, packages are installed into a “global environment” - meaning all your Julia projects share the same set of packages</li>
<li>Best practice is to use per-project environments - so each project has its own set of packages</li>
<li>This makes it easy to share code with others, or come back to it in a few years, without version compatibility issues</li>
</ul>
<!-- _class: blank dark -->
</section>
<section id="package-management-in-julia-1" class="slide level2">
<h2>Package management in Julia</h2>
<ul>
<li>Julia has a built-in package manager accessible from REPL
<ul>
<li>REPL: read-evaluate-print loop, known as command prompt or console in other languages</li>
</ul></li>
<li>Any folder can be a Julia environment</li>
<li>To activate a Julia environment, at Julia prompt type <code>]activate &lt;env&gt;</code>
<ul>
<li>To activate the current directory, <code>]activate .</code></li>
</ul></li>
<li>An environment has files <code>Project.toml</code> and <code>Manifest.toml</code> which track installed packages</li>
<li>If a directory isn’t already an environment, activating it will create the environment</li>
</ul>
</section>
<section id="live-demo" class="slide level2">
<h2>Live demo</h2>
<ul>
<li>Choose <code>+</code> then <code>Terminal</code> in JupyterLab</li>
<li>Type <code>julia</code> to start the Julia REPL</li>
<li>Activate the environment in the current directory</li>
<li>Add the <code>GLM</code>, <code>MLJ</code>, <code>StatsModels</code>, <code>DecisionTree</code>, and <code>MLJDecisionTreeInterface</code> packages for our statistics demo
<ul>
<li>type <code>add GLM MLJ StatsModels DecisionTree MLJDecisionTreeInterface</code></li>
</ul></li>
</ul>
</section>
<section id="statistics-in-julia" class="slide level2">
<h2>Statistics in Julia</h2>
<ul>
<li>There are lots of packages for statistics in Julia</li>
<li>We’ll be using four
<ul>
<li><code>StatsBase</code> for descriptive statistics</li>
<li><code>GLM</code> for linear regression and GLMs</li>
<li><code>MLJ</code> and <code>DecisionTree</code> for random forests</li>
</ul></li>
</ul>
</section>
<section id="statistics-in-julia-recap" class="slide level2">
<h2>Statistics in Julia: recap</h2>
<ul>
<li>The <code>GLM</code> library provides (generalized) linear regression functions</li>
<li><code>MLJ</code> is an interface to a lot of different machine learning packages</li>
</ul>
<p><a href="#41">.</a></p>
</section>
<section id="using-julia-without-notebooks" class="slide level2">
<h2>Using Julia without notebooks</h2>
<ul>
<li>At some point you probably will want to run Julia in a non-interactive environment
<ul>
<li><em>e.g.</em> a compute cluster</li>
</ul></li>
<li>Instead of using a notebook, you can just put your Julia code into a file</li>
<li>Everything should be in a function for best performance, except for one line that calls the main function</li>
<li>You will have to explicitly use <code>println</code> or <code>@info</code> (with the <code>Logging</code> package) to show results</li>
</ul>
</section>
<section id="using-julia-without-notebooks-1" class="slide level2">
<h2>Using Julia without notebooks</h2>
<ul>
<li>Let’s move our linear regression model to a Julia script file so that we can run it without the notebook interface (e.g.&nbsp;on Longleaf)</li>
<li>We’ll create a single <code>main()</code> function that runs the linear regression</li>
<li>We’ll call the <code>main()</code> function at the end of our script</li>
<li>In a larger project you’d probably want to split your code into multiple functions, and maybe multiple files</li>
</ul>
</section>
<section id="using-julia-without-notebooks-2" class="slide level2">
<h2>Using Julia without notebooks</h2>
<ul>
<li>Create a new text file and call it <code>regression.jl</code></li>
<li>I always like to start my code files with a comment explaining the file. In Julia, comments start with <code>#</code>:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href=""></a><span class="co">## In this file we estimate a linear regression model</span></span>
<span id="cb1-2"><a href=""></a><span class="co">## of traffic volumes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="using-julia-without-notebooks-3" class="slide level2">
<h2>Using Julia without notebooks</h2>
<ul>
<li>We can copy the code we need from the Statistics notebook</li>
<li>Like in a notebook, we first have to tell Julia what libraries we’re using</li>
<li>Copy the line starting with <code>using ...</code> into your script file</li>
</ul>
</section>
<section id="using-julia-without-notebooks-4" class="slide level2">
<h2>Using Julia without notebooks</h2>
<ul>
<li>Copy the data loading code into the first lines of the main function, between <code>function main()</code> and <code>end</code></li>
<li>Copy the code that loads and joins to the <code>sensor_meta</code> file below that</li>
<li>And the code that creates the <code>hour</code> and <code>day_of_week</code> columns below that</li>
<li>And finally, copy the code that runs the final model below that</li>
</ul>
</section>
<section id="using-julia-without-notebooks-5" class="slide level2">
<h2>Using Julia without notebooks</h2>
<ul>
<li>Unlike in a notebook, running a Julia script doesn’t provide any output unless you explicitly tell it to</li>
<li>We can use the <code>Logging</code> package built into Julia to add “log statements” to let us know what’s happening</li>
<li>Add <code>Logging</code> to your <code>using ...</code> line</li>
</ul>
</section>
<section id="logging-in-julia" class="slide level2">
<h2>Logging in Julia</h2>
<ul>
<li>The Logging package provides four statements to print information
<ul>
<li><code>@debug</code>, <code>@info</code>, <code>@warn</code>, and <code>@error</code></li>
</ul></li>
<li>Use like <code>@info "reading CSV file"</code></li>
<li>These should be used for different priority messages</li>
<li>Debug is not shown by default, but can be enabled for troubleshooting</li>
<li>Others are color-coded where supported - <code>@info</code> is blue, <code>@warn</code> is yellow, and <code>@error</code> is red</li>
</ul>
</section>
<section id="logging-in-julia-1" class="slide level2">
<h2>Logging in Julia</h2>
<ul>
<li>Add <code>@info</code> statements to your file before the data is loaded, before the variables are created, and before the model is run</li>
</ul>
</section>
<section id="output-in-julia" class="slide level2">
<h2>Output in Julia</h2>
<ul>
<li>For things that are not log statements, but just program output, use <code>println</code> or <code>show</code></li>
<li>Add <code>show(model)</code> to the end of your <code>main()</code> function</li>
</ul>
</section>
<section id="running-the-julia-script" class="slide level2">
<h2>Running the Julia script</h2>
<ul>
<li>Type <code>julia --project regression.jl</code></li>
<li>This runs the <code>julia</code> program, tells it to use the project in the current directory (so our packages are available), and then run <code>regression.jl</code></li>
</ul>
</section>
<section id="running-the-julia-script-1" class="slide level2">
<h2>Running the Julia script</h2>
<div>
<ul>
<li class="fragment">Nothing happened… why?</li>
<li class="fragment">need to call our function. Add <code>main()</code> as the last line of the file, and run again</li>
</ul>
</div>
</section>
<section id="command-line-arguments" class="slide level2">
<h2>Command-line arguments</h2>
<ul>
<li>Our input data might not always be in the same place
<ul>
<li>Maybe we want to run the same script on multiple files, or are running on a compute cluster with a different storage architecture</li>
</ul></li>
<li>We can use command-line arguments to specify the file path at run time</li>
<li>Then we can run <code>julia --project regression.jl data/my_file.csv</code></li>
</ul>
</section>
<section id="command-line-arguments-1" class="slide level2">
<h2>Command-line arguments</h2>
<ul>
<li>To read arguments from the command line, we’ll use another Julia package: <code>ArgParse</code></li>
<li>First, add ArgParse to your environment</li>
</ul>
</section>
<section id="parsing-command-line-arguments" class="slide level2">
<h2>Parsing command line arguments</h2>
<ul>
<li>Add <code>ArgParse</code> to the <code>using</code> statement at the top of your file</li>
<li>Add the following to the top of your <code>main</code> function</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href=""></a>s <span class="op">=</span> <span class="fu">ArgParseSettings</span>()</span>
<span id="cb2-2"><a href=""></a><span class="pp">@add_arg_table</span>! s <span class="cf">begin</span></span>
<span id="cb2-3"><a href=""></a>    <span class="st">"filename"</span></span>
<span id="cb2-4"><a href=""></a>        help <span class="op">=</span> <span class="st">"file name to process"</span></span>
<span id="cb2-5"><a href=""></a>        required <span class="op">=</span> <span class="cn">true</span></span>
<span id="cb2-6"><a href=""></a><span class="cf">end</span></span>
<span id="cb2-7"><a href=""></a>parsed_args <span class="op">=</span> <span class="fu">parse_args</span>(<span class="cn">ARGS</span>, s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="parsing-command-line-arguments-1" class="slide level2">
<h2>Parsing command line arguments</h2>
<ul>
<li>Replace the filename in the <code>CSV.read</code> function call with <code>parsed_args["filename"]</code></li>
</ul>
</section>
<section id="running-with-command-line-arguments" class="slide level2">
<h2>Running with command line arguments</h2>
<ul>
<li>Run your script again with no arguments: <code>julia --project regression.jl</code></li>
<li>You should get an error</li>
</ul>
</section>
<section id="running-with-command-line-arguments-1" class="slide level2">
<h2>Running with command line arguments</h2>
<ul>
<li>Run your script again, but ask for help: <code>julia --project regression.jl --help</code></li>
</ul>
</section>
<section id="running-with-command-line-arguments-2" class="slide level2">
<h2>Running with command line arguments</h2>
<ul>
<li>Run your script again with the argument: <code>julia --project regression.jl data/bay_area_freeways.csv</code></li>
<li>You should once again get your regression output</li>
</ul>
</section>
<section id="options" class="slide level2">
<h2>Options</h2>
<ul>
<li>It’s also possible to have options - things that have a default but you can change from the command line</li>
<li>Our script takes a while to run. Let’s add a sample option to speed things up, that will run the regression on a random sample of 10,000 rows of data</li>
</ul>
</section>
<section id="options-1" class="slide level2">
<h2>Options</h2>
<ul>
<li>Add to your argument table in your code</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href=""></a>    <span class="st">"--sample"</span></span>
<span id="cb3-2"><a href=""></a>        help <span class="op">=</span> <span class="st">"estimate on only first 10,000 rows"</span></span>
<span id="cb3-3"><a href=""></a>        action <span class="op">=</span> <span class="op">:</span>store_true</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="options-2" class="slide level2">
<h2>Options</h2>
<ul>
<li>Add to your code after reading the CSV</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href=""></a><span class="cf">if</span> parsed_args[<span class="st">"sample"</span>]</span>
<span id="cb4-2"><a href=""></a>    sensors <span class="op">=</span> sensors[<span class="fu">shuffle</span>(<span class="fl">1</span><span class="op">:</span><span class="fu">nrow</span>(sensors))[<span class="fl">1</span><span class="op">:</span><span class="fl">10_000</span>],<span class="op">:</span>]</span>
<span id="cb4-3"><a href=""></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="options-3" class="slide level2">
<h2>Options</h2>
<ul>
<li>Run again with the <code>--sample</code> option. It should be a bit quicker. <code>julia --project regression.jl --sample data/bay_area_freeways.csv</code></li>
</ul>
</section>
<section id="options-4" class="slide level2">
<h2>Options</h2>
<ul>
<li>Can also have options with values
<ul>
<li>e.g., maybe <code>--sample 5000</code> to sample 5000 rows</li>
</ul></li>
<li>See <a href="https://carlobaldassi.github.io/ArgParse.jl/stable/"><code>ArgParse.jl</code> documentation</a></li>
</ul>
</section>
<section id="project-organization-in-julia" class="slide level2">
<h2>Project organization in Julia</h2>
<ul>
<li>Notebooks are convenient, but can quickly get out of hand</li>
<li>Most large projects will have many notebooks and scripts with some common functionality</li>
<li>Having code duplicated leads to errors and maintenance hassles</li>
<li>Any common code should go in a module which is referenced in the notebook interface</li>
</ul>
</section>
<section id="why-modules" class="slide level2">
<h2>Why modules?</h2>
<p>As a project grows, it may outgrow a single notebook. But there are often blocks of code that are common between notebooks, for instance to clean data or perform some basic but project specific analysis. It is unwise to copy the same code into multiple files/notebooks, because it is hard to keep track of. The first step is to encapsulate this code within functions. You can just move these functions into <code>.jl</code> files, but it’s not much harder to create a full-fledged Julia package, and this brings a number of advantages.</p>
</section>
<section id="creating-a-packagemodule" class="slide level2">
<h2>Creating a package/module</h2>
<p>We are going to create a package that encapsulates a few functions useful for working with the sensor data. The basic structure of a Julia package is something like this:</p>
<ul>
<li>Project.toml</li>
<li>Manifest.toml (possibly)</li>
<li>src
<ul>
<li>NameOfPackage.jl</li>
<li>other julia files</li>
</ul></li>
<li>test (optional but recommended)
<ul>
<li>runtests.jl</li>
<li>other julia files</li>
</ul></li>
</ul>
</section>
<section id="updating-project.toml" class="slide level2">
<h2>Updating Project.toml</h2>
<p>We already have a Project.toml and Manifest.toml file. A few changes are needed to our Project.toml are needed for Julia to treat your folder as a package. Specifically, you need to include the following the Project.toml file.</p>
<pre><code>name = "CAFreewaySensors"
uuid = "uuid-of-package"
authors = ["Your Name 1 &lt;you@example.com&gt;"]
version = "0.0.1"</code></pre>
<p>The UUID is just a random identifier; you can generate one from the julia REPL with</p>
</section>
<section id="the-main-source-file" class="slide level2">
<h2>The main source file</h2>
<ul>
<li>The only required Julia file is <code>src/CAFreewaySensors.jl</code></li>
<li>It must defne the module, and look like this:</li>
</ul>
</section>
<section id="importing-packages" class="slide level2">
<h2>Importing packages</h2>
<ul>
<li>If your module relies on other modules, it is considered bad form to use <code>using</code></li>
<li>This can cause unexpected errors if the modules you use add functionality
<ul>
<li>e.g.&nbsp;if you’re using <code>mean</code> from <code>StatsBase</code>, and <code>MLJ</code> adds a <code>mean</code> function</li>
</ul></li>
<li>Instead, we use the import statement, which takes two forms:
<ul>
<li>nothing</li>
<li>nothing</li>
</ul></li>
<li>In the first case, you will have to explicitly refer to all functions within <code>StatsBase</code> as e.g.&nbsp;<code>StatsBase.mean</code></li>
<li>In the second case, you can use <code>mean</code> and <code>median</code> directly without prefixing, but any other function (e.g.&nbsp;<code>StatsBase.sample</code>) will be inaccessible</li>
<li>Can combine the two</li>
</ul>
</section>
<section id="exporting-functions" class="slide level2">
<h2>Exporting functions</h2>
<ul>
<li>Any function you want to be available in notebooks or scripts after running <code>using CAFreewaySensors</code> without writing <code>CAFreewaySensors.</code> needs to be <em>exported</em></li>
<li>You can export one or more functions with an <code>export</code> statement, e.g.
<ul>
<li><code>export vehicle_density, per_lane_density</code></li>
</ul></li>
<li>You can also mark functions as public (i.e.&nbsp;acceptable for use outside the package) without exporting them by using the <code>public</code> keyword
<ul>
<li><code>public vehicle_density</code></li>
</ul></li>
<li>This is just for documentation; you will still need to use <code>CAFreewaySensors.</code> to access these functions, and you can use that syntax to access even functions not declared public</li>
</ul>
</section>
<section id="includes" class="slide level2">
<h2>Includes</h2>
<ul>
<li>Most packages have relatively little code in their main file</li>
<li>Mostly, they have <em>includes</em> that bring in other files
<ul>
<li><code>include("file.jl")</code> makes it as if the contents of <code>file.jl</code> were pasted into the file including it</li>
</ul></li>
</ul>
</section>
<section id="the-main-source-file-1" class="slide level2">
<h2>The main source file</h2>
<ul>
<li>By convention, the main source file includes
<ul>
<li>imports</li>
<li>exports</li>
<li>public</li>
<li>includes</li>
<li>and nothing else</li>
<li>e.g.&nbsp;<a href="https://github.com/mattwigway/MissingLinks.jl/blob/main/src/MissingLinks.jl">one of my packages</a></li>
</ul></li>
<li>Some very small packages will just have one main file and no others includes</li>
</ul>
</section>
<section id="making-your-package" class="slide level2">
<h2>Making your package</h2>
<ul>
<li><p>Let’s create a file <code>stats.jl</code> and write these two functions:</p></li>
<li><p>Include it in <code>CAFreewaySensors.jl</code></p></li>
<li><p>Export both of the functions</p></li>
<li><p>Update the regression file to calculate per lane vehicle density and use that as the dependent variable</p></li>
</ul>
</section>
<section id="working-with-modules-live" class="slide level2">
<h2>Working with modules live</h2>
<ul>
<li>The <code>Revise</code> package will automatically update loaded module code when you change it</li>
</ul>
</section>
<section id="testing" class="slide level2">
<h2>Testing</h2>
<ul>
<li>There are two competing test frameworks for Julia: <code>Test.jl</code> which ships with Julia, and <code>TestItemRunner</code></li>
<li>I prefer <code>TestItemRunner</code> because it integrates well with VSCode</li>
</ul>
</section>
<section id="setting-up-runtests" class="slide level2">
<h2>Setting up runtests</h2>
<ul>
<li>When you run all tests, the file <code>test/runtests.jl</code> gets run</li>
<li>Include this code there:</li>
</ul>
</section>
<section id="splitting-tests-across-files" class="slide level2">
<h2>Splitting tests across files</h2>
<ul>
<li>I like to split my tests across logically organized files in the <code>test/</code> folder</li>
<li>Add a <code>test_density.jl</code> file in the <code>test/</code> folder</li>
<li>Include this code:</li>
</ul>
</section>
<section id="project-organization-recap" class="slide level2">
<h2>Project organization: recap</h2>
<ul>
<li>It’s a good idea to put common functionality in a module</li>
<li><code>Revise</code> will let you edit these files while your notebooks are running without restarting Julia</li>
</ul>
<p><a href="#41">.</a></p>
</section>
<section id="publishing-modules" class="slide level2">
<h2>Publishing modules</h2>
<ul>
<li>Publishing modules for others to use is beyond the scope of this course, but <a href="https://julialang.org/contribute/developing_package/">is not that hard</a></li>
<li>If you’re making a module for others to use, I recommend starting by using <a href="https://juliaci.github.io/PkgTemplates.jl/stable/">PkgTemplates.jl</a> instead of the manual approach shown here</li>
</ul>
</section>
<section id="advanced-topics-linear-algebra" class="slide level2">
<h2>Advanced topics: linear algebra</h2>
<ul>
<li>Julia has built-in support for <em>n</em>-dimensional matrices</li>
<li>Built-in library <code>LinearAlgebra</code> provides many matrix operations</li>
<li>Many space efficient specialized matrix types such as symmetrical, tridiagonal, etc.</li>
</ul>
</section>
<section id="advanced-topics-gpu-support" class="slide level2">
<h2>Advanced topics: GPU support</h2>
<ul>
<li>Julia supports NVIDIA, AMD, and Intel GPUs through the <code>CUDA</code>, <code>AMDGPU</code>, and <code>oneAPI</code> packages</li>
<li>Good for large array operations that can be run in parallel (thousands of simultaneous processes working on different parts of the array)</li>
<li>Tutorial: https://www.youtube.com/watch?v=Hz9IMJuW5hU</li>
</ul>
</section>
<section id="what-people-are-using-julia-for" class="slide level2">
<h2>What people are using Julia for</h2>
<ul>
<li>Astrophysics (Celeste.jl)</li>
<li>Weather and climate modeling (CliMA project)</li>
<li>Financial analysis (many private organizations)</li>
<li>Economic forecasting (Federal Reserve Bank of NY)</li>
<li>Electricity demand forecasting (Électricité de France)</li>
<li>Migration modeling (Jakub Bijak)</li>
</ul>
</section>
<section id="recap-and-additional-resources" class="slide level2">
<h2>Recap and additional resources</h2>
<p><a name="end" href=""></a></p>
<ul>
<li>Julia provides a high-performance environment for data analysis</li>
<li>Most functionality in Julia is provided by packages</li>
<li>Julia is fast because it can infer the types of data and variables</li>
<li>If you write your code such that it <em>can’t</em> infer types, it will be slow
<ul>
<li>Most commonly due to iterating over a DataFrame, or not writing code in a function</li>
<li>Check with <code>@time</code> and <code>@code_warntype</code></li>
</ul></li>
</ul>
</section>
<section id="recap-and-additional-resources-1" class="slide level2">
<h2>Recap and additional resources</h2>
<ul>
<li>Environments or projects are a way to keep a consistent set of packages and versions across team members</li>
<li>Many statistical functions are available, but most are in packages (even <code>mean</code>!)</li>
<li>Larger projects with multiple notebooks should put common code into files</li>
<li>Julia scripts can contain the same code as notebooks, but should have all code in functions</li>
</ul>
</section>
<section id="recap-and-additional-resources-2" class="slide level2">
<h2>Recap and additional resources</h2>
<ul>
<li>Julia documentation: docs.julialang.org</li>
<li>Julia Discourse: discourse.julialang.org</li>
<li>JuliaCon: juliacon.org</li>
<li>Julia Slack</li>
<li>Package documentation</li>
<li>Demos from this course: github.com/mattwigway/odum-julia</li>
</ul>
<div style="text-align: center; margin-top:30px">
Matt Bhagat-Conway<br>mwbc@unc.edu
</div>
<div class="quarto-auto-generated-content">
<p><img src="UNC_logo_RGB.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>https://projects.indicatrix.org/odum-julia</p>
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1920,

        height: 1080,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>